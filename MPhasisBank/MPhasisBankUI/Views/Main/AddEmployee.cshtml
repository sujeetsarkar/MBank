
@{
    ViewBag.Title = "AddEmployee";
    Layout = "~/Views/Shared/_LayoutManager.cshtml";
}

<html>
<head>
    <link href="~/Bootstrap/css/bootstrap.css" rel="stylesheet" />
    <meta name="viewport" content="width=device-width" />
    <title>ViewBag.Title</title>
    <script>
        $(document).ready(function () {
            $("#type").change(
                function () {
                    var val1 = $("#type option:selected").val();
                    if (val1 == "M")
                        $("#dept").hide();
                    else if (val1 == "E")
                        $("#dept").show();
                });
        });
    </script>
</head>
<body>
    <div class="container">
        <div class="row">
            <form method="post">
                <table class="tabbable" border="0" align="center" style="margin-top:100px">
                    @if (IsPost)
                    {
                        if (ViewBag.res!=null)
                        {
                            <tr class="active">
                                <td align="center" colspan="2" style="color:green;align-content:center;font-size:medium;font-weight:bolder;">Employee Added Successfully</td>
                            </tr>
                            <tr class="active"><td>&nbsp;</td><td>&nbsp;</td></tr>
                        }
                        else
                        {
                            @*@ViewBag.resmsg*@
                            <tr class="active">
                                <td align="center" colspan="2" style="color:red;align-content:center;font-size:medium;font-weight:bolder;">@ViewBag.resmsg@*!!Internal Error*@</td>
                            </tr>
                            <tr class="active"><td>&nbsp;</td><td>&nbsp;</td></tr>
                        }
                    }
                    <tr class="active">
                        <td colspan="2" align="center" style="color:cornflowerblue;font-size:medium;font-weight:bolder;align-content:center;">@ViewBag.Title</td>
                    </tr>
                    
                    <tr class="active"><td>&nbsp;</td><td>&nbsp;</td></tr>
                    <tr class="active">
                        <td style="font:bold;color:darkred">Employee Type</td>
                        <td>
                            <select name="pEmpType" id="type">
                                <option value="E" >Employee</option>
                                <option value="M" >Manager</option>
                            </select>
                        </td>
                    </tr>
                    <tr class="active"><td colspan="2">&nbsp;</td></tr>
                    <tr class="active" id="dept">
                        <td style="font:bold;color:darkred">DepartmentID</td>
                        <td><input type="text" name="pDeptId"/></td>
                    </tr>
                    <tr class="active"><td>&nbsp;</td><td>&nbsp;</td></tr>
                    <tr class="active">
                        <td style="font:bold;color:darkred">EmployeeName</td>
                        <td><input type="text" name="pEmpName" required pattern="^[^-\s][a-zA-Z0-9_\s]+$" title="max length 20 character should not start with spaces"/></td>
                    </tr>
                    <tr class="active"><td colspan="2">&nbsp;</td></tr>
                    <tr class="active">
                        <td colspan="2" align="center"><input type="submit" style="background-color:cornflowerblue" value="Add Employee" /></td>
                    </tr>
                </table>
            </form>
        </div>
    </div>

</body>
</html>
